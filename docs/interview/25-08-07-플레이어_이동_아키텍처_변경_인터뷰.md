# 플레이어 이동 시스템 아키텍처 변경 인터뷰

**일시**: 2025-08-07  
**참석자**: PM (프로젝트 오너), 시니어 아키텍트 (AI)  
**주제**: 태스크 5 플레이어 마우스 이동 시스템 변경에 따른 아키텍처 영향 분석

---

## 1단계: 기능 우선순위 확인

### Q1: 플레이어 중앙 고정 방식의 중요도

**아키텍트**: 이 플레이어 중앙 고정 + 맵 역방향 이동 방식이 게임의 핵심 아이덴티티에 꼭 필요한 기능인가요? 아니면 나중에 추가할 수 있는 선택적 기능으로 보시나요?

**PM 답변**: 플레이어 중앙 고정은 처음 기획부터 생각하고 있었음. 추후 휴대폰에서도 한다고 고려했을 때, 플레이어가 한정된 맵에서 움직이는 느낌이 들면 답답한 플레이 경험을 할 수 있음. 어떤 플랫폼과 관계없이 시원한 플레이 경험을 위해서 플레이어는 중앙 지역에서 움직이고 나머지는 카메라가 움직이는 방식이 맞다고 판단함.

**분석**:

- 플레이어 중앙 고정은 **핵심 기획 의도**로 확인됨
- 크로스 플랫폼 확장성 (PC → 모바일) 고려한 설계
- "시원한 플레이 경험"이 핵심 가치

## 2단계: 아키텍처 영향도 분석

### Q2: 일정 지연에 대한 수용성

**아키텍트**: 플레이어 중앙 고정 방식으로 변경하면 다음 시스템들에 상당한 영향을 미칩니다:

**높은 영향도 시스템들:**
- **AI System**: 적들의 플레이어 추적 로직이 월드 좌표계 기반으로 전면 수정 필요
- **Collision System**: 충돌 감지를 위한 월드↔스크린 좌표 변환 시스템 구축 필요  
- **Render System**: 모든 엔티티 렌더링에 카메라 오프셋 적용 필요
- **Projectile System**: 투사체 발사/이동 로직의 좌표계 변경 필요

이런 변경으로 인해 기존 Phase 2 일정(3-4주)에서 약 2주 정도 추가 소요가 예상됩니다.

**PM 답변**: 일정은 괜찮음. 다만 성능상과 확장성에 영향이 얼마나 가는지 걱정됨.

**분석**:

- 일정 지연 수용 가능 확인됨
- **성능**과 **확장성**이 주요 우려사항으로 확인됨

## 3단계: 성능 영향 분석

### Q3: 성능 오버헤드에 대한 우려

**아키텍트**: 플레이어 중앙 고정 방식의 성능 영향을 분석해보겠습니다.

**예상 성능 오버헤드:**

1. **좌표 변환 연산**: 모든 엔티티 렌더링 시 카메라 오프셋 계산 (`screen_pos = world_pos - camera_offset`)
2. **추가 메모리 사용**: 각 엔티티의 월드 위치와 스크린 위치 분리 관리  
3. **렌더링 컬링**: 화면 밖 엔티티 판별을 위한 추가 계산

**하지만 최적화 방안들이 있습니다:**

- 카메라 오프셋 캐싱으로 중복 계산 제거
- 화면 밖 엔티티 컬링으로 렌더링 부하 감소  
- 타일 기반 배경으로 무한 스크롤링 효율화

목표 성능인 40+ FPS를 유지하면서도 수백 개의 적과 투사체를 처리해야 하는데, 좌표 변환 오버헤드가 이 목표에 치명적인 영향을 줄 것으로 우려하시나요?

**PM 답변**: 적절한 최적화로 해결이 가능할 것으로 봄. 다만 복잡성은 많이 올라가겠지만 이건 어쩔 수 없는 부분임.

**분석**:

- 성능 최적화 가능성에 대한 신뢰 확인됨
- 아키텍처 복잡성 증가 수용 의사 확인됨

## 4단계: 확장성 영향 분석

### Q4: 확장성과 개발 생산성 우려

**아키텍트**: 확장성 측면에서의 영향을 분석해드리겠습니다.

**긍정적 확장성 영향:**
- **크로스 플랫폼**: PC → 모바일 이식 시 동일한 플레이 경험 보장
- **다양한 화면 크기**: 해상도에 관계없이 일관된 게임플레이
- **카메라 이펙트**: 화면 흔들림, 줌 인/아웃 등 추가 기능 구현 용이

**잠재적 확장성 제약:**
- **좌표계 복잡성**: 새로운 시스템 추가 시 월드↔스크린 변환 고려 필수
- **AI 시스템**: 새로운 적 AI 추가 시 좌표계 이해 필요
- **멀티플레이어**: 향후 멀티플레이어 고려 시 동기화 복잡성 증가

향후 계획 중인 확장 기능들을 고려했을 때, 좌표계 변환이 추가되는 복잡성이 개발팀의 생산성에 큰 부담이 될 것으로 우려하시나요?

**PM 답변**: 멀티플레이어 계획은 전혀 없음. 좌표계 복잡성을 추상화를 통해서 줄일 수 있을까?

**분석**:

- 멀티플레이어 제약사항 제거됨 (단순화 요소)
- **추상화를 통한 복잡성 감소** 방안에 관심 표명

## 5단계: 추상화 방안 제시

### Q5: 좌표계 복잡성 추상화 방안

**아키텍트**: 좌표계 복잡성을 추상화로 크게 줄일 수 있습니다. 제안하는 추상화 방안은 다음과 같습니다:

**1. 좌표 변환 유틸리티 추상화**

```python
class CoordinateSystem:
    @staticmethod
    def world_to_screen(pos): # 개발자는 이 함수만 사용
    @staticmethod  
    def screen_to_world(pos): # 내부 복잡성 숨김
```

**2. 렌더링 시스템 추상화**

```python  
class EntityRenderer:
    def render(self, entity): # 자동으로 좌표 변환 처리
        # 개발자는 좌표 변환을 신경쓸 필요 없음
```

**3. AI 개발용 헬퍼 클래스**

```python
class AIHelper:
    def get_distance_to_player(self, enemy): # 월드 좌표 기준 자동 계산
    def move_toward_player(self, enemy, speed): # 좌표 변환 자동 처리
```

이렇게 하면 새로운 적이나 시스템을 추가할 때 개발자는 좌표 변환을 전혀 신경쓰지 않고 기존과 동일한 방식으로 개발할 수 있습니다.

**PM 답변**: 유틸리티 추상화 보다는 다형성을 주는 것이 더 좋다고 생각함. 추후 변환하는 로직에 최적화를 할 수 있다고 생각함.

**분석**:

- 유틸리티보다 **다형성 기반 설계** 선호 확인됨
- **최적화 확장성**을 고려한 인터페이스 기반 설계 요구

## 6단계: 최종 의사결정

### Q6: 전면 변경 진행 확정

**아키텍트**: 지금까지의 논의를 정리하면:

**확정 사항들:**
- 플레이어 중앙 고정은 핵심 기획 의도 (크로스 플랫폼 고려)
- 2주 일정 추가 수용 가능
- 성능은 최적화로 해결 가능
- 복잡성은 다형성 기반 설계로 관리
- 멀티플레이어 제약 없음

이 모든 조건들을 고려했을 때, 플레이어 중앙 고정 + 카메라 시스템 아키텍처로 전면 변경을 지금 시점에서 진행하는 것으로 최종 결정하시겠습니까?

**PM 답변**: 좋다. 해당 회의를 기반으로 DEV-PRD 문서 업데이트를 진행해달라.

**최종 결정**: ✅ **플레이어 중앙 고정 카메라 시스템 아키텍처로 전면 변경 확정**

---

## 📋 인터뷰 요약

### 핵심 결정사항
1. **플레이어 중앙 고정 방식 채택**: 크로스 플랫폼 확장성과 "시원한 플레이 경험"을 위한 핵심 설계
2. **아키텍처 전면 변경 승인**: 기존 시스템들의 좌표계 기반 재설계 진행
3. **다형성 기반 추상화**: 좌표 변환 시스템을 인터페이스 기반으로 설계하여 최적화 확장성 확보
4. **일정 조정 수용**: Phase 2에 2주 추가 소요 승인

### 영향받는 시스템
- **CameraSystem**: 새로 추가되는 핵심 시스템
- **PlayerMovementSystem**: 논리적 위치 관리로 변경
- **RenderSystem**: 모든 렌더링에 카메라 오프셋 적용
- **AISystem**: 월드 좌표 기반 추적 로직으로 수정
- **CollisionSystem**: 좌표 변환 지원 추가
- **MapSystem**: 무한 스크롤 타일 배경 구현

### 기술적 접근 방향
- 다형성 기반 `ICoordinateTransformer` 인터페이스 설계
- 성능 최적화를 위한 교체 가능한 구현체들
- 카메라 오프셋 캐싱 및 렌더링 컬링 최적화