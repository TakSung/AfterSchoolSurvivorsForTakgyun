# ProjectileSystem 유닛테스트 설계 인터뷰

## 인터뷰 정보
- **날짜**: 2025-01-12
- **대상**: ProjectileSystem
- **인터뷰어**: 유닛 테스트 설계 전문가
- **목적**: ProjectileSystem에 대한 포괄적 유닛테스트 시나리오 설계

---

## 1. 핵심 책임 및 비즈니스 로직 분석

### 핵심 책임 (Core Responsibility)
- **투사체 엔티티들의 물리 연산, 수명 관리, 충돌 처리 및 정리를 담당하는 ECS 시스템**

### 비즈니스 로직 (Business Logic)
1. **투사체 물리 업데이트**: 방향과 속도 기반 위치 계산 및 이동 처리
2. **투사체 수명 관리**: delta_time 기반 lifetime 감소 및 만료된 투사체 자동 제거
3. **화면 경계 관리**: 100px 여유 공간을 둔 화면 경계 검사 및 범위 밖 투사체 정리
4. **투사체-적 충돌 처리**: BruteForceCollisionDetector를 활용한 AABB 충돌 감지, 데미지 적용, 관통 처리
5. **소유자 기반 투사체 관리**: owner_id 별 투사체 조회, 일괄 정리 기능
6. **적 사망 처리**: 충돌로 인한 적 처치 시 옵저버 패턴을 통한 사망 이벤트 발행 (경험치 보상과 엔티티 제거는 구독자에서 처리)

### 아키텍처 개선사항 (사용자 피드백 반영)
- **기존**: ProjectileSystem에서 직접 경험치 보상 계산 및 엔티티 제거
- **개선**: 옵저버 패턴 적용
  - ProjectileSystem: 적 사망 판정 및 사망 이벤트 발행자 역할
  - 구독자들: 경험치 시스템, 아이템 드롭 시스템, 엔티티 관리 시스템 등이 각각 구독하여 처리
  - 장점: 책임 분리, 결합도 감소, 확장성 증대, 테스트 용이성 향상

---

## 2. 입력 파라미터 분석