# Task ID: 19
# Title: AutoAttackSystem 월드 좌표 기반 재구현
# Status: pending
# Dependencies: 18
# Priority: medium
# Description: 월드 좌표를 기준으로 동작하는 자동 공격 시스템을 구현하여 타겟팅과 투사체 생성을 처리한다.
# Details:
AutoAttackSystem을 구현하여 시간 기반 공격 쿨다운(FPS 독립적)을 관리한다. _find_nearest_enemy_in_world() 메서드로 플레이어 월드 위치 기준 weapon_range 내의 가장 가까운 적을 탐색한다. WeaponComponent의 attack_speed를 초 단위로 처리하고, Vector2.length()로 거리 계산을 수행한다. 투사체 생성 시 월드 좌표를 기준으로 방향과 속도를 설정한다.

# Test Strategy:
타겟 탐색 알고리즘의 정확성을 테스트하고, 공격 쿨다운 시간을 검증한다. 월드 좌표 기반 거리 계산과 투사체 생성 로직을 테스트한다.

# Subtasks:
## 1. 시간 기반 공격 쿨다운 시스템 구현 [pending]
### Dependencies: None
### Description: FPS 독립적인 시간 기반 공격 쿨다운을 관리하는 시스템을 구현합니다.
### Details:
AutoAttackSystem 클래스에서 WeaponComponent의 attack_speed를 초 단위로 처리하고, delta_time을 사용해 쿨다운 시간을 누적 관리합니다. 각 무기별 공격 속도에 따른 쿨다운 계산 로직을 구현하고, 쿨다운 완료 시 공격 가능 상태로 전환하는 메서드를 작성합니다. 좌표계 변경으로 인해 공격 타이밍이 화면 이동에 독립적으로 유지되도록 합니다.

## 2. 월드 좌표 기반 타겟 탐색 시스템 구현 [pending]
### Dependencies: 19.1
### Description: 플레이어 월드 위치를 기준으로 weapon_range 내의 가장 가까운 적을 탐색하는 시스템을 구현합니다.
### Details:
_find_nearest_enemy_in_world() 메서드를 구현하여 CoordinateManager를 통해 플레이어의 월드 좌표를 가져옵니다. 모든 적 엔티티의 월드 좌표와 플레이어 사이의 Vector2.length() 거리 계산을 수행하고, weapon_range 내에서 가장 가까운 적을 선택합니다. 좌표계 확장으로 인해 넓어진 게임 월드에서도 정확한 거리 기반 타겟팅이 가능하도록 최적화합니다.

## 3. 월드 좌표 기반 투사체 생성 및 방향 계산 시스템 구현 [pending]
### Dependencies: 19.2
### Description: 월드 좌표를 기준으로 투사체의 생성 위치와 이동 방향을 계산하는 시스템을 구현합니다.
### Details:
플레이어와 타겟의 월드 좌표를 사용하여 정규화된 방향 벡터를 계산하고, 투사체의 초기 월드 위치와 속도를 설정합니다. ProjectileComponent에 월드 좌표 기반 위치와 방향 정보를 저장하고, 투사체가 화면 밖으로 이동하더라도 월드 좌표에서 추적 가능하도록 구현합니다. 좌표계 변경으로 인한 투사체 궤적의 일관성과 정확성을 보장하는 로직을 추가합니다.

